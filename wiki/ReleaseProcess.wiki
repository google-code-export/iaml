#summary Technical guideline on the IAML release process
#labels Development,Phase-Implementation

[Development < Development]

=Introduction=

This is a brief technical guideline on the process necessary to release a new version of the IAML plugin.

The release process has been automated as much as possible (for example, through [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.tests/src/org/openiaml/model/tests/release/AllReleaseTests.java?r=3111 AllReleaseTests]), but there are certain steps that are still impossible to run programatically (Eclipse bug [https://bugs.eclipse.org/bugs/show_bug.cgi?id=315247 315247]).

See also issue 37.

  # Update the version of `org.openiaml.model` plugin to `0.6.0.qualifier`.
  # Run [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.tests/src/org/openiaml/model/tests/release/AllReleaseTests.java?r=3120 AllReleaseTests].
    # This will automatically update the `.gmfgen`s with new versions, and update other version references throughout the plugin.
  # Delete the generated model source code in `org.openiaml.model/src-generated`.
  # Delete the generated edit source code in `org.openiaml.model.edit/src`
  # Reload and regenerate the model and edit source code from `iaml.genmodel`.
  # Delete all of the generated diagram editors (for example, with [http://code.google.com/p/iaml/source/browse/trunk/cleanup_diagram_editors.bat?r=3120 cleanup_diagram_editors.bat]).
  # Regenerate all of the diagram editors from the source `.gmfgen`s.
  # Run [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.runtime/src/web/index.html?r=3120 AllReleaseTests] again, to update the versions in generated diagram editor `MANIFEST.MF`s.
    # Update the plugin version in [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.runtime/src/web/index.html?r=3120 runtime/index.html].
    # Resolve any other failing test cases.
  # Refresh all plugins, and force a clean rebuild of the entire workspace - mostly to identify any lingering errors from Drools/OAW templates.
  # Commit all of these changes to SVN (for example, r3126).

The whole environment is now ready to be built and released.

  # Update the version of each plugin feature, and _recompute the dependencies_ for each feature
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.feature/feature.xml?r=3120 org.openiaml.model.feature/feature.xml] - the main IAML environment
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.verification.crocopat.feature/feature.xml?r=3120 org.openiaml.verification.crocopat.feature/feature.xml] - the CrocoPat verification plugin
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.verification.nusmv.feature/feature.xml?r=3120 org.openiaml.verification.nusmv.feature/feature.xml] - the CrocoPat verification plugin
  # Update the [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.update/site.xml?r=3120 org.openiaml.update/site.xml] update site definitions
  # _Build all_ the things!
  # Do not commit the changes to SVN yet. With a local fresh copy of Eclipse, try to install the IAML modelling environment from your local repository, and ensure that everything is generally working
    # A smoke test: make a simple IAML model that keeps two elements synchronised; generate the code for the model; and test the generated application.
  # _to be continued..._