#summary Technical guideline on the IAML release process
#labels Development,Phase-Implementation

[Development < Development]

=Introduction=

This is a brief technical guideline on the process necessary to release a new version of the IAML plugin.

The release process has been automated as much as possible (for example, through [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.tests/src/org/openiaml/model/tests/release/AllReleaseTests.java?r=3133 AllReleaseTests]), but there are certain steps that are still impossible to run programatically (Eclipse bug [https://bugs.eclipse.org/bugs/show_bug.cgi?id=315247 315247]).

See also issue 37.

  # Update the version of `org.openiaml.model` plugin to `0.6.0.qualifier`.
  # Run [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.tests/src/org/openiaml/model/tests/release/AllReleaseTests.java?r=3133 AllReleaseTests].
    # This will automatically update the `.gmfgen`s with new versions, and update other version references throughout the plugin.
  # Delete the generated model source code in `org.openiaml.model/src-generated`.
  # Delete the generated edit source code in `org.openiaml.model.edit/src`
  # Reload and regenerate the model and edit source code from `iaml.genmodel`.
  # Delete all of the generated diagram editors (for example, with [http://code.google.com/p/iaml/source/browse/trunk/cleanup_diagram_editors.bat?r=3133 cleanup_diagram_editors.bat]).
  # Regenerate all of the diagram editors from the source `.gmfgen`s.
  # Run [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.runtime/src/web/index.html?r=3133 AllReleaseTests] again, to update the versions in generated diagram editor `MANIFEST.MF`s.
    # Update the plugin version in [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.runtime/src/web/index.html?r=3133 runtime/index.html].
    # Resolve any other failing test cases.
  # Refresh all plugins, and force a clean rebuild of the entire workspace - mostly to identify any lingering errors from Drools/OAW templates.
  # Commit all of these changes to SVN (for example, r3126).

The whole environment is now ready to be built and released.

  # Update the version of each plugin feature, and _recompute the dependencies_ for each feature
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.model.feature/feature.xml?r=3133 org.openiaml.model.feature/feature.xml] - the main IAML environment
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.verification.crocopat.feature/feature.xml?r=3133 org.openiaml.verification.crocopat.feature/feature.xml] - the CrocoPat verification plugin
    # [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.verification.nusmv.feature/feature.xml?r=3133 org.openiaml.verification.nusmv.feature/feature.xml] - the CrocoPat verification plugin
  # Update the [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.update/site.xml?r=3133 org.openiaml.update/site.xml] update site definitions
  # _Build all_ the things!
  # Do not commit the changes to SVN yet. With a local fresh copy of Eclipse, try to install the IAML modelling environment from your local repository, and ensure that everything is generally working
    # A smoke test: make a simple IAML model that keeps two elements synchronised; generate the code for the model; and test the generated application.

The environment has now been successfully built, so now the release process can conclude.

  # Commit the built plugins in [http://code.google.com/p/iaml/source/browse/trunk/org.openiaml.update?r=3133 org.openiaml.update] to SVN.
  # [http://code.google.com/p/iaml/source/browse/trunk/tags?r=3133 Tag] the build on SVN.
  # Update all [http://code.google.com/p/iaml/issues/list outstanding issues] to use new versions, and tag fixed issues to the correct version.
  # Write release documentation on the wiki, for example [Model0_6].
  # Write a new release entry on [http://journals.jevon.org/users/jevon-phd/tag/iaml/ the development blog].
  # Tag the release on the [https://www.google.com/calendar/embed?mode=AGENDA&src=bio39kbr7stcjntgk061ck3uts@group.calendar.google.com&ctz=Pacific/Auckland&wkst=1&gsessionid=LqGCYu0wL7Q1Gv0HBJC4Qg development calendar] (using the format `IAML Plugin v 0.x.y`).
  # [http://twitter.com/search/%23iaml Discuss release on Twitter].

The [http://openiaml.org/model/ API documentation] for the release may be regenerated through [ModelDoc].